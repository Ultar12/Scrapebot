# Render Blueprint for the Web Automation Web Service
services:
  - type: web
    name: pairing-code-bot
    env: docker
    dockerfilePath: Dockerfile
    # Set autoDeploy to true to update automatically when you push to GitHub
    autoDeploy: true 
    # Build phase runs the Dockerfile instructions
    buildCommand: ""
    
    # CRITICAL: Simply run the Python script directly. The script handles port binding
    # and the webhook server using the telegram bot library.
    startCommand: "python main.py"
    
    # Render needs the web service to be open on the port defined by the PORT env var
    # The bot script reads the PORT variable (defaulting to 8080)
    port: 8080 # This sets the expected port for Render's health check

    envVars:
      # General Config (non-secret, value is explicit)
      - key: TARGET_URL
        value: https://levanter-delta.vercel.app/
        
      # üîê SECRETS: sync: false tells Render to manage the value securely 
      # in the dashboard. You MUST set the value in the Render UI.
      - key: TELEGRAM_BOT_TOKEN
        sync: false
