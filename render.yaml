# Render Blueprint for the Web Automation Web Service
services:
  - type: web
    name: pairing-code-service
    env: docker
    dockerfilePath: Dockerfile
    autoDeploy: false 
    buildCommand: ""
    
    # CRITICAL FIX: Using 'sh -c' ensures the shell expands $PORT 
    # into a real number before Gunicorn runs.
    startCommand: "sh -c 'gunicorn --bind 0.0.0.0:$PORT main:app'" 

    envVars:
      # General Config (non-secret, value is explicit)
      - key: TARGET_URL
        value: https://levanter-delta.vercel.app/
        
      # üîê SECRETS: sync: false tells Render to manage the value securely 
      # in the dashboard. The 'value' field is omitted.
      - key: MOBILE_NUMBER
        sync: false
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: TELEGRAM_CHAT_ID
        sync: false
